@[TOC] cocos-事件管理器

# 事件管理器

记录自己使用cocos的学习历程

在有些情况下需要进行多个系统之间的通知，使用事件管理器减少实例生成，也便于进行通知管理


## 事件管理器职能

1. 维护事件容器
2. 订阅事件
3. 调用事件
4. 取消订阅

### 注意

在编写差不多的时候我因为切换场景等问题注销ui事件报错，去搜的时候发现这么写

在 Node 上监听的任何事件，都会在 Node 的 active 状态变为 false 时被取消注册，所以切换场景时，旧场景中 Node 上的事件监听器就失效了。

如果你在其他的公共对象上添加事件监听器，需要自己负责取消注册。不建议使用 eventManager 的 API，它是旧风格集约式的事件管理，在 creator 中，我们提倡的是离散式的事件管理

因此通过离散管理事件的话在类内处理，在注销的时候判断node是否存在即可~~(`.node!`)~~应该是.node?


对话：

-这么做是不是为了防止内存溢出？或者是有别的目的？

-为了防止内存泄露

-另外，在cocos creator中切换场景前（使用loadScene）需要移除当前场景中手动添加的监听吗？

-不用，不过手动移除也不会错



在依旧给node加判空之后还出现问题

加错判空符号了，应该是(`.node?`)
